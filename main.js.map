{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ahj-task-12-loading_styling-frontend/./src/js/CommunicationServer.js","webpack://ahj-task-12-loading_styling-frontend/./src/js/ControlNews.js","webpack://ahj-task-12-loading_styling-frontend/./src/js/CreationElements.js","webpack://ahj-task-12-loading_styling-frontend/./src/js/InformMassage.js","webpack://ahj-task-12-loading_styling-frontend/./src/js/NewsWidget.js","webpack://ahj-task-12-loading_styling-frontend/./src/js/app.js","webpack://ahj-task-12-loading_styling-frontend/./src/index.html","webpack://ahj-task-12-loading_styling-frontend/./src/css/style.css?6b7b","webpack://ahj-task-12-loading_styling-frontend/webpack/bootstrap","webpack://ahj-task-12-loading_styling-frontend/webpack/runtime/define property getters","webpack://ahj-task-12-loading_styling-frontend/webpack/runtime/global","webpack://ahj-task-12-loading_styling-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://ahj-task-12-loading_styling-frontend/webpack/runtime/make namespace object","webpack://ahj-task-12-loading_styling-frontend/webpack/runtime/publicPath","webpack://ahj-task-12-loading_styling-frontend/./src/index.js"],"sourcesContent":["export default class CommunicationServer {\n  constructor(port) {\n    this.port = port;\n  }\n\n  async getLastNews() {\n    const result = await fetch(`${this.port}/news/last`);\n\n    return result;\n  }\n}\n","export default class ControlNews {\n  constructor(widget, communicator, inform) {\n    this.widget = widget;\n    this.communicator = communicator;\n    this.inform = inform;\n\n    this.updateNewsList = this.updateNewsList.bind(this);\n  }\n\n  activation() {\n    this.widget.btnRefresh.addEventListener('click', this.updateNewsList);\n\n    setTimeout(this.updateNewsList, 3000);\n  }\n\n  updateNewsList() {\n    this.widget.clearNewsList();\n    this.widget.preloadBox.classList.remove('hidden');\n    this.communicator.getLastNews().then((response) => {\n      if (response.ok) {\n        return response.json();\n      }\n      throw new Error('Не удалось подключиться к серверу');\n    }).then((data) => {\n      if (data) {\n        this.widget.preloadBox.classList.add('hidden');\n        data.forEach((el) => this.widget.createNewsEl(el));\n      } else {\n        throw new Error('Не удалось получить список новостей');\n      }\n    }).catch((err) => {\n      console.log(err.message);\n      this.inform.showInform('Не удалось загрузить данные. Проверьте подключение и обновите страницу');\n    });\n  }\n}\n","export default class CreationElements {\n  static createElement(tag, classes, attributes) {\n    const element = document.createElement(tag);\n    if (classes) element.classList.add(...classes);\n    if (attributes) {\n      for (let i = 0; i < attributes.length; i += 1) {\n        element.setAttribute(attributes[i].name, attributes[i].value);\n      }\n    }\n\n    return element;\n  }\n}\n","export default class InformMessage {\n  constructor(messageBox) {\n    this.messageBox = messageBox;\n\n    this.messageTextEl = this.messageBox.querySelector('.inform_text');\n  }\n\n  showInform(message) {\n    this.messageBox.classList.remove('hidden');\n    this.messageTextEl.textContent = message;\n  }\n\n  hideInform() {\n    this.messageBox.classList.add('hidden');\n    this.messageTextEl.textContent = '';\n  }\n}\n","import CreationElements from './CreationElements';\n\nexport default class NewsWidjet {\n  constructor(container) {\n    this.container = container;\n\n    this.btnRefresh = this.container.querySelector('.btn_refresh');\n    this.newsList = this.container.querySelector('.news_list');\n    this.preloadBox = this.container.querySelector('.preload_box');\n  }\n\n  createNewsEl(obj) {\n    const news = CreationElements.createElement('li', ['news']);\n\n    const newsTitle = CreationElements.createElement('h3', ['news-title']);\n    newsTitle.textContent = obj.title;\n    news.append(newsTitle);\n\n    const preview = CreationElements.createElement('div', ['news_preview']);\n    const image = CreationElements.createElement('img', ['news_image'], [\n      { name: 'src', value: obj.imgSrc },\n      { name: 'alt', value: 'Изображение к новости' },\n    ]);\n    const description = CreationElements.createElement('p', ['news_description']);\n    description.textContent = obj.description;\n    preview.append(image);\n    preview.append(description);\n\n    news.append(preview);\n\n    this.newsList.append(news);\n  }\n\n  clearNewsList() {\n    this.newsList.querySelectorAll('.news').forEach((n) => n.remove());\n  }\n}\n","import CommunicationServer from './CommunicationServer';\nimport ControlNews from './ControlNews';\nimport InformMessage from './InformMassage';\nimport NewsWidjet from './NewsWidget';\n\nconst container = document.querySelector('.container');\nconst informBox = document.querySelector('.inform_box');\nconst port = 'https://loading-styling-backend-pgpi.onrender.com';\n\nconst widget = new NewsWidjet(container);\nconst communicator = new CommunicationServer(port);\nconst inform = new InformMessage(informBox);\nconst controller = new ControlNews(widget, communicator, inform);\n\ncontroller.activation();\n\nif (navigator.serviceWorker) {\n  window.addEventListener('load', async () => {\n    try {\n      if (navigator.serviceWorker) {\n        await navigator.serviceWorker.register(\n          '/sw.js',\n        );\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  });\n}\n","// Module\nvar code = \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n    <meta charset=\\\"UTF-8\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"ie=edge\\\">\\n    <title>Loading Styling</title>\\n</head>\\n<body>\\n    <div class=\\\"container\\\">\\n        <div class=\\\"news_box\\\">\\n            <div class=\\\"news_box_header\\\">\\n                 <h2 class=\\\"news_box_title\\\">Новости мира кино</h2> <button type=\\\"button\\\" class=\\\"btn_refresh\\\">Обновить</button>\\n            </div>\\n            <ul class=\\\"news_list\\\"></ul>\\n            <ul class=\\\"preload_box\\\">\\n                <li class=\\\"news\\\">\\n                    <h3 class=\\\"news-title preload_view\\\">A</h3>\\n                    <div class=\\\"news_preview\\\">\\n                        <div class=\\\"news_image preload_view\\\"></div>\\n                        <p class=\\\"news_description preload_view\\\"></p>\\n                    </div>\\n                </li>\\n                <li class=\\\"news\\\">\\n                    <h3 class=\\\"news-title preload_view\\\">A</h3>\\n                    <div class=\\\"news_preview\\\">\\n                        <div class=\\\"news_image preload_view\\\"></div>\\n                        <p class=\\\"news_description preload_view\\\"></p>\\n                    </div>\\n                </li>\\n                <li class=\\\"news\\\">\\n                    <h3 class=\\\"news-title preload_view\\\">A</h3>\\n                    <div class=\\\"news_preview\\\">\\n                        <div class=\\\"news_image preload_view\\\"></div>\\n                        <p class=\\\"news_description preload_view\\\"></p>\\n                    </div>\\n                </li>\\n            </ul>\\n            <div class=\\\"inform_box hidden\\\">\\n                <p class=\\\"inform_text\\\"></p>\\n            </div>\\n        </div>\\n    </div>\\n</body>\\n</html>\\n\";\n// Exports\nexport default code;","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","import './js/app';\nimport './index.html';\nimport './css/style.css';\nimport './licenses.txt';\n"],"names":["CommunicationServer","constructor","port","getLastNews","result","fetch","ControlNews","widget","communicator","inform","updateNewsList","bind","activation","btnRefresh","addEventListener","setTimeout","clearNewsList","preloadBox","classList","remove","then","response","ok","json","Error","data","add","forEach","el","createNewsEl","catch","err","console","log","message","showInform","CreationElements","createElement","tag","classes","attributes","element","document","i","length","setAttribute","name","value","InformMessage","messageBox","messageTextEl","querySelector","textContent","hideInform","NewsWidjet","container","newsList","obj","news","newsTitle","title","append","preview","image","imgSrc","description","querySelectorAll","n","informBox","controller","navigator","serviceWorker","window","register","e"],"sourceRoot":""}